openapi: 3.0.3
info:
  title: 'Podrodze API Documentation'
  description: 'Dokumentacja REST API dla aplikacji planowania podróży 1.'
  version: 1.0.0
servers:
  -
    url: 'http://localhost:8081'
tags:
  -
    name: Endpoints
    description: ''
  -
    name: Itinerary
    description: ''
  -
    name: Members
    description: ''
  -
    name: Members_Invites
    description: ''
  -
    name: Places
    description: ''
  -
    name: Preferences
    description: ''
  -
    name: TripPlaces
    description: ''
  -
    name: Trips
    description: ''
components:
  securitySchemes:
    default:
      type: http
      scheme: bearer
      description: 'You can retrieve your token by visiting your dashboard and clicking <b>Generate API token</b>.'
security:
  -
    default: []
paths:
  /api/v1/register:
    post:
      summary: 'Handle an incoming registration request (API Sanctum).'
      operationId: handleAnIncomingRegistrationRequestAPISanctum
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'Must not be greater than 255 characters.'
                  example: b
                  nullable: false
                email:
                  type: string
                  description: 'Must be a valid email address. Must not be greater than 255 characters.'
                  example: zbailey@example.net
                  nullable: false
                password:
                  type: string
                  description: ''
                  example: architecto
                  nullable: false
              required:
                - name
                - email
                - password
  /api/v1/login:
    post:
      summary: 'Handle an incoming authentication request (API, Sanctum).'
      operationId: handleAnIncomingAuthenticationRequestAPISanctum
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  description: 'Must be a valid email address.'
                  example: gbailey@example.net
                  nullable: false
                password:
                  type: string
                  description: ''
                  example: '|]|{+-'
                  nullable: false
              required:
                - email
                - password
  /api/v1/forgot-password:
    post:
      summary: 'Handle an incoming password reset link request.'
      operationId: handleAnIncomingPasswordResetLinkRequest
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  description: 'Must be a valid email address.'
                  example: gbailey@example.net
                  nullable: false
              required:
                - email
  /api/v1/reset-password:
    post:
      summary: 'Handle an incoming new password request.'
      operationId: handleAnIncomingNewPasswordRequest
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                  description: ''
                  example: architecto
                  nullable: false
                email:
                  type: string
                  description: 'Must be a valid email address.'
                  example: zbailey@example.net
                  nullable: false
                password:
                  type: string
                  description: ''
                  example: architecto
                  nullable: false
              required:
                - token
                - email
                - password
  /api/v1/user:
    get:
      summary: ''
      operationId: getApiV1User
      description: ''
      parameters: []
      responses:
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: Unauthenticated.
                properties:
                  message:
                    type: string
                    example: Unauthenticated.
      tags:
        - Endpoints
  /api/v1/logout:
    post:
      summary: 'Destroy an authenticated session (revoke current Sanctum token).'
      operationId: destroyAnAuthenticatedSessionrevokeCurrentSanctumToken
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
  '/api/v1/trips/{trip}/preferences/aggregate':
    get:
      summary: ''
      operationId: getApiV1TripsTripPreferencesAggregate
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    museum: 1.5
                    food: 2.0
                    nature: 0.7
                    nightlife: 1.3
                  message: 'Aggregated preferences calculated.'
                properties:
                  data:
                    type: object
                    properties:
                      museum:
                        type: number
                        example: 1.5
                      food:
                        type: number
                        example: 2.0
                      nature:
                        type: number
                        example: 0.7
                      nightlife:
                        type: number
                        example: 1.3
                  message:
                    type: string
                    example: 'Aggregated preferences calculated.'
      tags:
        - Itinerary
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: 'The ID of the trip.'
        example: 4
        required: true
        schema:
          type: integer
  '/api/v1/trips/{trip}/itinerary/generate':
    get:
      summary: ''
      operationId: getApiV1TripsTripItineraryGenerate
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    trip_id: 12
                    day_count: 1
                    schedule:
                      -
                        day: 1
                        places:
                          -
                            id: 44
                            name: 'Whiskey in the Jar'
                            category_slug: bar
                            score: 4.5
                            distance_m: 1200
                    cache_info:
                      cached: false
                      expires_in: 7200
                properties:
                  data:
                    type: object
                    properties:
                      trip_id:
                        type: integer
                        example: 12
                      day_count:
                        type: integer
                        example: 1
                      schedule:
                        type: array
                        example:
                          -
                            day: 1
                            places:
                              -
                                id: 44
                                name: 'Whiskey in the Jar'
                                category_slug: bar
                                score: 4.5
                                distance_m: 1200
                        items:
                          type: object
                          properties:
                            day:
                              type: integer
                              example: 1
                            places:
                              type: array
                              example:
                                -
                                  id: 44
                                  name: 'Whiskey in the Jar'
                                  category_slug: bar
                                  score: 4.5
                                  distance_m: 1200
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                    example: 44
                                  name:
                                    type: string
                                    example: 'Whiskey in the Jar'
                                  category_slug:
                                    type: string
                                    example: bar
                                  score:
                                    type: number
                                    example: 4.5
                                  distance_m:
                                    type: integer
                                    example: 1200
                      cache_info:
                        type: object
                        properties:
                          cached:
                            type: boolean
                            example: false
                          expires_in:
                            type: integer
                            example: 7200
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Unable to generate itinerary'
                properties:
                  error:
                    type: string
                    example: 'Unable to generate itinerary'
      tags:
        - Itinerary
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: 'The ID of the trip.'
        example: 12
        required: true
        schema:
          type: integer
  '/api/v1/trips/{trip}/itinerary/generate-full':
    post:
      summary: ''
      operationId: postApiV1TripsTripItineraryGenerateFull
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    trip_id: 12
                    day_count: 3
                    schedule:
                      -
                        day: 1
                        places:
                          - ...
                    cache_info:
                      cached: false
                      expires_in: 7200
                properties:
                  data:
                    type: object
                    properties:
                      trip_id:
                        type: integer
                        example: 12
                      day_count:
                        type: integer
                        example: 3
                      schedule:
                        type: array
                        example:
                          -
                            day: 1
                            places:
                              - ...
                        items:
                          type: object
                          properties:
                            day:
                              type: integer
                              example: 1
                            places:
                              type: array
                              example:
                                - ...
                              items:
                                type: string
                      cache_info:
                        type: object
                        properties:
                          cached:
                            type: boolean
                            example: false
                          expires_in:
                            type: integer
                            example: 7200
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Unable to generate itinerary'
                properties:
                  error:
                    type: string
                    example: 'Unable to generate itinerary'
      tags:
        - Itinerary
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                days:
                  type: integer
                  description: 'Must be between 1 and 30.'
                  example: 3
                  nullable: false
                radius:
                  type: integer
                  description: 'Radius in meters (100–20000).'
                  example: 2000
                  nullable: true
              required:
                - days
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: 'The ID of the trip.'
        example: 12
        required: true
        schema:
          type: integer
  '/api/v1/trips/{trip}/members':
    get:
      summary: ''
      operationId: getApiV1TripsTripMembers
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"data\": [...]\n}"
      tags:
        - Members
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: 'The ID of the trip.'
        example: 12
        required: true
        schema:
          type: integer
  '/api/v1/trips/{trip}/members/{user}':
    put:
      summary: ''
      operationId: putApiV1TripsTripMembersUser
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Role updated.'
                properties:
                  message:
                    type: string
                    example: 'Role updated.'
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Cannot update owner role'
                properties:
                  error:
                    type: string
                    example: 'Cannot update owner role'
      tags:
        - Members
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                role:
                  type: string
                  description: 'One of: member, editor.'
                  example: architecto
                  nullable: false
              required:
                - role
    patch:
      summary: ''
      operationId: patchApiV1TripsTripMembersUser
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Role updated.'
                properties:
                  message:
                    type: string
                    example: 'Role updated.'
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Cannot update owner role'
                properties:
                  error:
                    type: string
                    example: 'Cannot update owner role'
      tags:
        - Members
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                role:
                  type: string
                  description: 'One of: member, editor.'
                  example: architecto
                  nullable: false
              required:
                - role
    delete:
      summary: ''
      operationId: deleteApiV1TripsTripMembersUser
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Member removed.'
                properties:
                  message:
                    type: string
                    example: 'Member removed.'
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'You cannot remove the owner'
                properties:
                  error:
                    type: string
                    example: 'You cannot remove the owner'
      tags:
        - Members
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: user
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: trip_id
        description: ''
        example: 7
        required: true
        schema:
          type: integer
      -
        in: path
        name: user_id
        description: ''
        example: 44
        required: true
        schema:
          type: integer
  '/api/v1/trips/{trip}/members/invite':
    post:
      summary: ''
      operationId: postApiV1TripsTripMembersInvite
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: '{ "message": "Invitation sent successfully.", "data": {...} }'
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'User is already a member'
                properties:
                  error:
                    type: string
                    example: 'User is already a member'
      tags:
        - Members_Invites
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  description: 'Email of invited user.'
                  example: gbailey@example.net
                  nullable: false
                role:
                  type: string
                  description: 'Role of invited user (member/editor).'
                  example: architecto
                  nullable: true
                message:
                  type: string
                  description: 'Optional invitation message.'
                  example: architecto
                  nullable: true
              required:
                - email
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: ''
        example: 5
        required: true
        schema:
          type: integer
  '/api/v1/trips/{trip}/accept':
    post:
      summary: ''
      operationId: postApiV1TripsTripAccept
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Invitation accepted.'
                properties:
                  message:
                    type: string
                    example: 'Invitation accepted.'
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Invitation already processed'
                properties:
                  error:
                    type: string
                    example: 'Invitation already processed'
      tags:
        - Members_Invites
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: ''
        example: 5
        required: true
        schema:
          type: integer
  '/api/v1/trips/{trip}/decline':
    post:
      summary: ''
      operationId: postApiV1TripsTripDecline
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Invitation declined.'
                properties:
                  message:
                    type: string
                    example: 'Invitation declined.'
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Invitation already processed'
                properties:
                  error:
                    type: string
                    example: 'Invitation already processed'
      tags:
        - Members_Invites
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: ''
        example: 9
        required: true
        schema:
          type: integer
  /api/v1/users/me/invites:
    get:
      summary: ''
      operationId: getApiV1UsersMeInvites
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"data\": [...]\n}"
      tags:
        - Members_Invites
  /api/v1/users/me/invites/sent:
    get:
      summary: ''
      operationId: getApiV1UsersMeInvitesSent
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"data\": [...]\n}"
      tags:
        - Members_Invites
  /api/v1/places/nearby:
    get:
      summary: ''
      operationId: getApiV1PlacesNearby
      description: ''
      parameters:
        -
          in: query
          name: lat
          description: 'Latitude between -90 and 90.'
          example: 51.21
          required: true
          schema:
            type: number
            description: 'Latitude between -90 and 90.'
            example: 51.21
            nullable: false
        -
          in: query
          name: lon
          description: 'Longitude between -180 and 180.'
          example: 16.16
          required: true
          schema:
            type: number
            description: 'Longitude between -180 and 180.'
            example: 16.16
            nullable: false
        -
          in: query
          name: radius
          description: 'The search radius in meters (10–50000).'
          example: 2000
          required: false
          schema:
            type: integer
            description: 'The search radius in meters (10–50000).'
            example: 2000
            nullable: false
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Nearby places synchronized successfully'
                  summary:
                    added: 3
                    updated: 17
                  data:
                    -
                      id: 237
                      google_place_id: ChIJvRWwnIUTD0cRy2PMOWG2D3Q
                      name: 'Speakeasy Bar | Legnica'
                      category_slug: bar
                      rating: 5
                      meta:
                        icon: ...
                        types:
                          - bar
                          - night_club
                        address: 'Rycerska 2, Legnica'
                      lat: 51.209053
                      lon: 16.160364
                      distance_m: 108.4
                properties:
                  message:
                    type: string
                    example: 'Nearby places synchronized successfully'
                  summary:
                    type: object
                    properties:
                      added:
                        type: integer
                        example: 3
                      updated:
                        type: integer
                        example: 17
                  data:
                    type: array
                    example:
                      -
                        id: 237
                        google_place_id: ChIJvRWwnIUTD0cRy2PMOWG2D3Q
                        name: 'Speakeasy Bar | Legnica'
                        category_slug: bar
                        rating: 5
                        meta:
                          icon: ...
                          types:
                            - bar
                            - night_club
                          address: 'Rycerska 2, Legnica'
                        lat: 51.209053
                        lon: 16.160364
                        distance_m: 108.4
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 237
                        google_place_id:
                          type: string
                          example: ChIJvRWwnIUTD0cRy2PMOWG2D3Q
                        name:
                          type: string
                          example: 'Speakeasy Bar | Legnica'
                        category_slug:
                          type: string
                          example: bar
                        rating:
                          type: integer
                          example: 5
                        meta:
                          type: object
                          properties:
                            icon:
                              type: string
                              example: ...
                            types:
                              type: array
                              example:
                                - bar
                                - night_club
                              items:
                                type: string
                            address:
                              type: string
                              example: 'Rycerska 2, Legnica'
                        lat:
                          type: number
                          example: 51.209053
                        lon:
                          type: number
                          example: 16.160364
                        distance_m:
                          type: number
                          example: 108.4
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Google Places quota exceeded'
                properties:
                  error:
                    type: string
                    example: 'Google Places quota exceeded'
      tags:
        - Places
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                lat:
                  type: number
                  description: 'Must be between -90 and 90.'
                  example: -89
                  nullable: false
                lon:
                  type: number
                  description: 'Must be between -180 and 180.'
                  example: -179
                  nullable: false
                radius:
                  type: integer
                  description: 'Must be at least 10. Must not be greater than 50000.'
                  example: 7
                  nullable: true
              required:
                - lat
                - lon
  /api/v1/preferences:
    get:
      summary: ''
      operationId: getApiV1Preferences
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    categories:
                      -
                        slug: museum
                        name: Muzeum
                      -
                        slug: food
                        name: Jedzenie
                    user:
                      museum: 2
                      food: 1
                      nature: 0
                      nightlife: 2
                properties:
                  data:
                    type: object
                    properties:
                      categories:
                        type: array
                        example:
                          -
                            slug: museum
                            name: Muzeum
                          -
                            slug: food
                            name: Jedzenie
                        items:
                          type: object
                          properties:
                            slug:
                              type: string
                              example: museum
                            name:
                              type: string
                              example: Muzeum
                      user:
                        type: object
                        properties:
                          museum:
                            type: integer
                            example: 2
                          food:
                            type: integer
                            example: 1
                          nature:
                            type: integer
                            example: 0
                          nightlife:
                            type: integer
                            example: 2
      tags:
        - Preferences
  /api/v1/users/me/preferences:
    put:
      summary: ''
      operationId: putApiV1UsersMePreferences
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Preferences updated'
                  data:
                    categories:
                      -
                        slug: museum
                        name: Muzeum
                      -
                        slug: food
                        name: Jedzenie
                    user:
                      museum: 2
                      food: 1
                      nature: 0
                      nightlife: 1
                properties:
                  message:
                    type: string
                    example: 'Preferences updated'
                  data:
                    type: object
                    properties:
                      categories:
                        type: array
                        example:
                          -
                            slug: museum
                            name: Muzeum
                          -
                            slug: food
                            name: Jedzenie
                        items:
                          type: object
                          properties:
                            slug:
                              type: string
                              example: museum
                            name:
                              type: string
                              example: Muzeum
                      user:
                        type: object
                        properties:
                          museum:
                            type: integer
                            example: 2
                          food:
                            type: integer
                            example: 1
                          nature:
                            type: integer
                            example: 0
                          nightlife:
                            type: integer
                            example: 1
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Invalid preferences payload'
                properties:
                  error:
                    type: string
                    example: 'Invalid preferences payload'
      tags:
        - Preferences
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                preferences:
                  type: object
                  description: 'Key-value pairs of category -> score.'
                  example: []
                  nullable: false
                  properties:
                    museum:
                      type: integer
                      description: 'Preference for museums (0–2).'
                      example: 2
                      nullable: false
                    food:
                      type: integer
                      description: 'Preference for food (0–2).'
                      example: 1
                      nullable: false
                    nature:
                      type: integer
                      description: 'Preference for nature (0–2).'
                      example: 0
                      nullable: false
                    nightlife:
                      type: integer
                      description: 'Preference for nightlife (0–2).'
                      example: 1
                      nullable: false
              required:
                - preferences
  '/api/v1/trips/{trip}/places':
    get:
      summary: ''
      operationId: getApiV1TripsTripPlaces
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"data\": [...]\n}"
      tags:
        - TripPlaces
    post:
      summary: ''
      operationId: postApiV1TripsTripPlaces
      description: ''
      parameters: []
      responses:
        201:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"message\": \"Place added to trip\",\n  \"data\": {...}\n}"
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Place not found'
                properties:
                  message:
                    type: string
                    example: 'Place not found'
        409:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Place already attached or invalid state'
                properties:
                  message:
                    type: string
                    example: 'Place already attached or invalid state'
      tags:
        - TripPlaces
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                place_id:
                  type: integer
                  description: 'ID of the place.'
                  example: 237
                  nullable: false
                status:
                  type: string
                  description: 'Status of selection.'
                  example: proposed
                  nullable: true
                is_fixed:
                  type: boolean
                  description: 'Whether this place is fixed.'
                  example: false
                  nullable: true
                day:
                  type: integer
                  description: 'Day number.'
                  example: 16
                  nullable: true
                order_index:
                  type: integer
                  description: 'Order index.'
                  example: 16
                  nullable: true
                note:
                  type: string
                  description: 'Optional note.'
                  example: architecto
                  nullable: true
              required:
                - place_id
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: 'ID of the trip.'
        example: 12
        required: true
        schema:
          type: integer
  '/api/v1/trips/{trip}/places/{place}':
    patch:
      summary: ''
      operationId: patchApiV1TripsTripPlacesPlace
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: '{ "message": "Trip place updated", "data": {...} }'
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Place not found'
                properties:
                  message:
                    type: string
                    example: 'Place not found'
      tags:
        - TripPlaces
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  description: ''
                  example: planned
                  nullable: true
                  enum:
                    - proposed
                    - selected
                    - rejected
                    - planned
                is_fixed:
                  type: boolean
                  description: ''
                  example: false
                  nullable: true
                day:
                  type: integer
                  description: 'Must be at least 1.'
                  example: 16
                  nullable: true
                order_index:
                  type: integer
                  description: 'Must be at least 0.'
                  example: 39
                  nullable: true
                note:
                  type: string
                  description: 'Must not be greater than 255 characters.'
                  example: g
                  nullable: true
    delete:
      summary: ''
      operationId: deleteApiV1TripsTripPlacesPlace
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Place removed from trip'
                properties:
                  message:
                    type: string
                    example: 'Place removed from trip'
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Place not found'
                properties:
                  message:
                    type: string
                    example: 'Place not found'
      tags:
        - TripPlaces
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: place
        description: 'The place.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: 'ID of the trip.'
        example: 12
        required: true
        schema:
          type: integer
      -
        in: path
        name: place_id
        description: 'ID of the place.'
        example: 237
        required: true
        schema:
          type: integer
  '/api/v1/trips/{trip}/places/{place}/vote':
    post:
      summary: ''
      operationId: postApiV1TripsTripPlacesPlaceVote
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: '{ "message": "Vote saved", "data": {...} }'
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Invalid vote'
                properties:
                  message:
                    type: string
                    example: 'Invalid vote'
      tags:
        - TripPlaces
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                score:
                  type: integer
                  description: 'Must be between 1 and 5.'
                  example: 4
                  nullable: false
              required:
                - score
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: place
        description: 'The place.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: ''
        example: 12
        required: true
        schema:
          type: integer
      -
        in: path
        name: place_id
        description: ''
        example: 237
        required: true
        schema:
          type: integer
  /api/v1/trips:
    get:
      summary: ''
      operationId: getApiV1Trips
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"data\": [...]\n}"
      tags:
        - Trips
    post:
      summary: ''
      operationId: postApiV1Trips
      description: ''
      parameters: []
      responses:
        201:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"message\": \"Trip created successfully\",\n  \"data\": {...}\n}"
      tags:
        - Trips
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'Trip name.'
                  example: '"Weekend in Wrocław"'
                  nullable: false
                start_date:
                  type: string
                  description: 'nullable Trip start date.'
                  example: '"2025-11-29"'
                  nullable: true
                end_date:
                  type: string
                  description: 'nullable Trip end date.'
                  example: '"2025-12-02"'
                  nullable: true
              required:
                - name
  '/api/v1/trips/{trip}':
    get:
      summary: ''
      operationId: getApiV1TripsTrip
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"data\": {...}\n}"
      tags:
        - Trips
    put:
      summary: ''
      operationId: putApiV1TripsTrip
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"message\": \"Trip updated successfully\",\n  \"data\": {...}\n}"
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Invalid update payload'
                properties:
                  error:
                    type: string
                    example: 'Invalid update payload'
      tags:
        - Trips
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'Trip name.'
                  example: '"Updated trip name"'
                  nullable: false
                start_date:
                  type: string
                  description: nullable
                  example: '"2025-11-30"'
                  nullable: true
                end_date:
                  type: string
                  description: nullable
                  example: '"2025-12-21"'
                  nullable: true
    patch:
      summary: ''
      operationId: patchApiV1TripsTrip
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"message\": \"Trip updated successfully\",\n  \"data\": {...}\n}"
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Invalid update payload'
                properties:
                  error:
                    type: string
                    example: 'Invalid update payload'
      tags:
        - Trips
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'Trip name.'
                  example: '"Updated trip name"'
                  nullable: false
                start_date:
                  type: string
                  description: nullable
                  example: '"2025-11-30"'
                  nullable: true
                end_date:
                  type: string
                  description: nullable
                  example: '"2025-12-21"'
                  nullable: true
    delete:
      summary: ''
      operationId: deleteApiV1TripsTrip
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Trip deleted successfully'
                properties:
                  message:
                    type: string
                    example: 'Trip deleted successfully'
      tags:
        - Trips
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: 'The ID of the trip.'
        example: 5
        required: true
        schema:
          type: integer
  '/api/v1/trips/{trip}/start-location':
    patch:
      summary: ''
      operationId: patchApiV1TripsTripStartLocation
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: "{\n  \"message\": \"Start location updated\",\n  \"data\": {...}\n}"
        400:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  error: 'Invalid coordinates'
                properties:
                  error:
                    type: string
                    example: 'Invalid coordinates'
      tags:
        - Trips
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                start_latitude:
                  type: number
                  description: Latitude.
                  example: 51.21
                  nullable: false
                start_longitude:
                  type: number
                  description: Longitude.
                  example: 16.16
                  nullable: false
              required:
                - start_latitude
                - start_longitude
    parameters:
      -
        in: path
        name: trip
        description: 'The trip.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: trip_id
        description: 'The ID of the trip.'
        example: 5
        required: true
        schema:
          type: integer
